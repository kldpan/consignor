(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca764a82"],{"02b8":function(t,e,s){"use strict";var i=s("1155"),a=s.n(i);a.a},1155:function(t,e,s){},"4c23":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mymap"},[s("div",{staticClass:"search-area clearfix"},[s("div",{staticClass:"back fl",on:{click:function(e){return t.toMap()}}}),s("div",{staticClass:"search-box fl"},[s("span",{staticClass:"searchIcon fl"}),s("div",{staticClass:"searchandclear fl"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search",attrs:{type:"text",placeholder:"输入关键字"},domProps:{value:t.keyword},on:{input:[function(e){e.target.composing||(t.keyword=e.target.value)},function(e){return t.keySearch()}],focus:function(e){return t.getRecord()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deleteInput()}}}),t.keyword?s("span",{staticClass:"clear",on:{click:function(e){return t.clearSearch()}}}):t._e()]),s("div",{staticClass:"icons fr"},[s("span",{staticClass:"voiceIcon"}),s("span",{staticClass:"bigCity",on:{click:function(e){return t.cityPicker()}}},[t._v("城市")]),s("span",{class:this.cityPickerBool?"popdown":"popup"})])])]),s("div",{staticClass:"mapbox"},[s("div",{staticClass:"amap-wrapper"},[s("el-amap",{ref:"amap",staticClass:"amap-box map",attrs:{vid:"map","amap-manager":t.amapManager,events:t.events,zoom:14}})],1),s("div",{staticClass:"sign"}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.mapCenterNoteBoxBool,expression:"mapCenterNoteBoxBool"}],staticClass:"notebox"},[s("div",{class:t.detailedAddress.length>=50?"bigaddnote":"addnote"},[s("span",[t._v(t._s(t.mapShowDetailedAddress))])]),s("div",{staticClass:"direct"})])]),t.searchListBool?s("div",{staticClass:"search-list"},[s("ul",[t._l(t.search_list,(function(e,i){return s("li",{key:i,staticClass:"searchlist clearfix",on:{click:function(s){return t.mapToThisAddress(e)}}},[s("span",{staticClass:"maplocationicon fl"}),s("div",{staticClass:"searchaddressarea fl"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"address"},[t._v(t._s(e.address))])])])})),t.noSearchShow?s("li",{staticClass:"nosearch"},[s("span",[t._v("暂无搜索结果")])]):t._e()],2)]):t._e(),t.bool?s("div",{staticClass:"records"},[s("ul",{staticClass:"upul"},[s("li",{staticClass:"tomap",on:{click:function(e){return t.toMap()}}},[s("span",{staticClass:"maplocationicon"}),s("span",{staticClass:"maptpaddress"},[t._v("去地图上选点")])]),s("li",{staticClass:"currentposition"},[s("span",{staticClass:"maplocationicon fl"}),t.autoAddressInfo?s("div",{staticClass:"addressarea fl"},[s("div",{staticClass:"roughaddressarea"},[s("span",{staticClass:"roughaddress"},[t._v(t._s(t.autoAddressInfo.addressComponent.township+t.autoAddressInfo.addressComponent.street))]),s("span",{staticClass:"notice"},[t._v("当前")])]),s("div",{staticClass:"detailedaddress"},[t._v(t._s(t.autoAddressInfo.formattedAddress))])]):t._e()])]),0!==t.testData.length?s("div",{staticClass:"historypart"},[t._m(0),s("ul",{staticClass:"historyarea"},t._l(t.testData,(function(e,i){return s("li",{key:i},[s("span",{staticClass:"maplocationicon fl"}),s("div",{staticClass:"addressarea fl"},[s("div",{staticClass:"roughaddressarea"},[s("span",{staticClass:"roughaddress"},[t._v(t._s(e.title.slice(0,4)))])]),s("div",{staticClass:"detailedaddress"},[t._v(t._s(e.title.slice(0,18)))])])])})),0)]):t._e()]):t._e(),s("div",{staticClass:"goback",on:{click:function(e){return t.backCurrentPosition()}}},[s("span",{staticClass:"gobackicon"})]),s("div",{ref:"senderInfo",staticClass:"senderInfo"},["consignor"==t.type?s("div",{staticClass:"floor-n1"},[s("span",{staticClass:"loadIcon"},[t._v("装")]),s("span",{staticClass:"title"},[t._v("发货人信息")])]):t._e(),"consignee"==t.type?s("div",{staticClass:"floor-n1"},[s("span",{staticClass:"loadIcon"},[t._v("收")]),s("span",{staticClass:"title"},[t._v("收货人信息")])]):t._e(),s("div",{staticClass:"floor-n2"},[s("span",{staticClass:"locationIcon"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.address,expression:"contact.address"}],attrs:{type:"text",placeholder:"详细地址（精确到门牌号）"},domProps:{value:t.contact.address},on:{input:function(e){e.target.composing||t.$set(t.contact,"address",e.target.value)}}})]),s("div",{staticClass:"floor-n3 clearfix"},[s("div",{staticClass:"sender fl"},[s("span",{staticClass:"senderIcon"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.name,expression:"contact.name"}],staticClass:"sendername",attrs:{placeholder:"联系人"},domProps:{value:t.contact.name},on:{input:function(e){e.target.composing||t.$set(t.contact,"name",e.target.value)}}})]),s("div",{staticClass:"phone fl"},[s("span",{staticClass:"phoneIcon"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.phone,expression:"contact.phone"}],staticClass:"phonenumber",attrs:{placeholder:"联系电话"},domProps:{value:t.contact.phone},on:{input:function(e){e.target.composing||t.$set(t.contact,"phone",e.target.value)}}})])]),s("div",{staticClass:"submit",on:{click:function(e){return t.ok()}}},[s("div",{staticClass:"subbtn"},[t._v("确定")])])]),s("keep-alive",[s("citypicker")],1)],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"historytitle clearfix"},[s("span",{staticClass:"title fl"},[t._v("历史记录：")]),s("span",{staticClass:"deleteicon fr"})])}],n=(s("b0c0"),s("5530")),c=(s("96cf"),s("1da1")),r=s("8f9b"),o=s.n(r),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.cityPickerBool?s("div",{staticClass:"citypicker"},[s("div",{staticClass:"closearea",on:{click:function(e){return t.closeModal()}}}),s("div",{staticClass:"selectarea"},[s("div",{staticClass:"titlearea clearfix"},[s("div",{staticClass:"cancel fl",on:{click:function(e){return t.closeModal()}}},[t._v("取消")]),s("div",{staticClass:"titlename fl"},[t._v("选择装货地")]),s("div",{staticClass:"sub fr",on:{click:function(e){return t.completeSelect()}}},[t._v("完成")])]),s("div",{staticClass:"searcharea"},[s("div",{staticClass:"searchbox"},[s("span",{staticClass:"searchicon"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_key,expression:"search_key"}],attrs:{type:"text",placeholder:"输入城市名"},domProps:{value:t.search_key},on:{input:function(e){e.target.composing||(t.search_key=e.target.value)}}})])]),s("div",{staticClass:"addressarea clearfix"},[s("div",{staticClass:"provincearea fl"},[s("ul",t._l(t.provinceList,(function(e,i){return s("li",{key:i,class:t.provinceNum===i?"selectedprovince":"otherprovince",on:{click:function(s){return t.selectProvince(e,i)}}},[t._v(t._s(e.replace(/[\d]*/gi,"")))])})),0)]),s("div",{staticClass:"cityarea fl"},[s("ul",t._l(t.cityList,(function(e,i){return s("li",{key:i,class:t.cityNum===i?"selectedcity":"othercity",on:{click:function(s){return t.selectCity(e,i)}}},[t._v(t._s(e.replace(/[\d]*/gi,"")))])})),0)]),s("div",{staticClass:"districtarea fr"},[s("ul",t._l(t.districtList,(function(e,i){return s("li",{key:i,class:t.districtNum===i?"selecteddistrict":"otherdistrict",on:{click:function(s){return t.selectDistrict(e,i)}}},[t._v(t._s(e.replace(/[\d]*/gi,"")))])})),0)])])]),s("mt-popup",{attrs:{position:"bottom"},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[t._v("...")])],1):t._e()},d=[],u=(s("c975"),s("ac1f"),s("5319"),s("a026")),p=s("76a0"),h=s("60b2");u["default"].component(p["Popup"].name,p["Popup"]),console.log(h);var v={data:function(){return{cityPickerBool:!1,provinceNum:-1,cityNum:-1,districtNum:-1,provinceList:[],cityList:[],districtList:[],userSelectedProvince:"",userSelectedCity:"",userSelectedDistrict:"",toastInstanse:null,search_key:"",popupVisible:!1}},mounted:function(){for(var t=0;t<h.length;t++)this.provinceList.push(h[t].name+h[t].code)},methods:{closeModal:function(){this.userSelectedProvince="",this.userSelectedCity="",this.userSelectedDistrict="",this.cityList=[],this.districtList=[],this.provinceNum=-1,this.cityPickerBool=!1},completeSelect:function(){var t=this;this.userSelectedProvince||(this.toastInstanse=Object(p["Toast"])({message:"请选择省份",position:"middle",duration:1e3}),this.toastInstanse.$el.style.zIndex=1e5),this.userSelectedProvince&&!this.userSelectedCity&&(this.toastInstanse=Object(p["Toast"])({message:"请选择城市",position:"middle",duration:1e3}),this.toastInstanse.$el.style.zIndex=1e5),this.userSelectedProvince&&this.userSelectedCity&&!this.userSelectedDistrict&&(this.toastInstanse=Object(p["Toast"])({message:"请选择区域",position:"middle",duration:1e3}),this.toastInstanse.$el.style.zIndex=1e5),this.userSelectedProvince&&this.userSelectedCity&&this.userSelectedDistrict&&(this.$parent.district=this.userSelectedDistrict,this.cityPickerBool=!1,this.$parent.userSelectedProvince=this.userSelectedProvince,this.$parent.userSelectedCity=this.userSelectedCity,this.$parent.userSelectedDistrict=this.userSelectedDistrict,setTimeout((function(){t.$parent.detailedAddress=t.userSelectedProvince.replace(/[\d]*/gi,"")+t.userSelectedCity.replace(/[\d]*/gi,"")+t.userSelectedDistrict.replace(/[\d]*/gi,"")+t.$parent.mapShowDetailedAddress}),800))},selectProvince:function(t,e){this.cityList=[],this.cityNum=-1,this.districtList=[],this.districtNum=-1,this.provinceNum=e,this.userSelectedProvince=t;for(var s=0;s<h.length;s++)if(t.replace(/[\d]*/gi,"")===h[s].name){this.cityList=[];for(var i=0;i<h[s].childs.length;i++)this.cityList.push(h[s].childs[i].name+h[s].childs[i].code)}},selectCity:function(t,e){this.cityNum=e,this.userSelectedCity=t;for(var s=0;s<h.length;s++)for(var i=0;i<h[s].childs.length;i++)if(t.replace(/[\d]*/gi,"")===h[s].childs[i].name){this.districtList=[],this.userSelectedCity=t;for(var a=0;a<h[s].childs[i].childs.length;a++)this.districtList.push(h[s].childs[i].childs[a].name+h[s].childs[i].childs[a].code)}},selectDistrict:function(t,e){this.districtNum=e,this.userSelectedDistrict=t}},watch:{search_key:function(){for(var t=0;t<this.provinceList.length;t++)if(-1!==this.provinceList[t].indexOf(this.search_key)){var e=this.provinceList[t],s=t;this.selectProvince(e,s)}}}},f=v,m=(s("d356"),s("2877")),g=Object(m["a"])(f,l,d,!1,null,"4fb2291e",null),C=g.exports,y=s("4788"),k=new o.a.AMapManager,_={props:{type:String},data:function(){var t=this;return{testData:[],cityPickerBool:!1,mapCenterNoteBoxBool:!1,detailedAddress:"",mapShowDetailedAddress:"---",searchListBool:!1,bool:!1,adcode:null,contact:{address:"",name:"",phone:""},currentPosition:null,keyword:"",amapManager:k,events:{init:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(s){var i,a,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.currentPosition=s.getCenter(),s.getCity((function(t){console.log(t)})),i=t.$refs.amap.$$getInstance(),a=i.getCenter(),e.next=6,Object(y["b"])(a);case 6:n=e.sent,c=n.regeocode,t.contact.address=c.formattedAddress,t.adcode=c.addressComponent.adcode,console.log(c);case 11:case"end":return e.stop()}}),e)})));function s(t){return e.apply(this,arguments)}return s}(),moveend:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var s,i,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.$refs.amap.$$getInstance(),i=s.getCenter(),e.next=4,Object(y["b"])(i);case 4:a=e.sent,n=a.regeocode,t.contact.address=n.formattedAddress,t.adcode=n.addressComponent.adcode,console.log(n);case 9:case"end":return e.stop()}}),e)})));function s(){return e.apply(this,arguments)}return s}()}}},components:{citypicker:C},created:function(){"consignee"==this.type?(this.contact.name=this.$store.state.order.consignee.name,this.contact.phone=this.$store.state.order.consignee.phone):"consignor"==this.type&&(this.contact.name=this.$store.state.order.consignor.name,this.contact.phone=this.$store.state.order.consignor.phone)},methods:{onSearchLi:function(t){this.adMap(),this.search_key=""},back:function(){this.$router.go(-1)},toMap:function(){this.bool?this.bool=!1:this.back()},toPath:function(t){this.$router.push(t)},getRecord:function(){this.bool=!0},clearSearch:function(){this.search_key="",this.bool=!0},deleteInput:function(){1===this.search_key.length&&this.clearSearch()},dragMapAddressToDetails:function(){this.detailedAddress=this.dragAddress[0].address},mapToThisAddress:function(t){this.searchListBool=!1,this.bool=!1,this.search_key="",this.adMap(),this.userSearchAddressInfo=t,console.log(this.userSearchAddressInfo),this.senderAddLng=t.location.lng,this.senderAddLat=t.location.lat,this.getCompeleteAddress(t)},clearDetailedAddress:function(){this.detailedAddress=""},getUserInputAddress:function(){},cityPicker:function(){this.$children[1].cityPickerBool=!0},backCurrentPosition:function(){this.$refs.amap.$$getInstance().setCenter(this.currentPosition)},ok:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s,i,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.$refs.amap.$$getInstance().getCenter(),i=s.lat,a=s.lng,c=Object(n["a"])({adcode:t.adcode,lat:i,lng:a},t.contact),console.log("this.type>>>",t.type),e.t0=t.type,e.next="consignee"===e.t0?6:"consignor"===e.t0?8:10;break;case 6:return t.$store.commit("setConsignee",c),e.abrupt("break",10);case 8:return t.$store.commit("setConsignor",c),e.abrupt("break",10);case 10:t.$router.go(-1);case 11:case"end":return e.stop()}}),e)})))()}},watch:{}},b=_,S=(s("02b8"),Object(m["a"])(b,i,a,!1,null,null,null));e["a"]=S.exports},5319:function(t,e,s){"use strict";var i=s("d784"),a=s("825a"),n=s("7b0b"),c=s("50c4"),r=s("a691"),o=s("1d80"),l=s("8aa5"),d=s("14c3"),u=Math.max,p=Math.min,h=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,e,s,i){var g=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=i.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(s,i){var a=o(this),n=void 0==s?void 0:s[t];return void 0!==n?n.call(s,a,i):e.call(String(a),s,i)},function(t,i){if(!g&&C||"string"===typeof i&&-1===i.indexOf(y)){var n=s(e,t,this,i);if(n.done)return n.value}var o=a(t),h=String(this),v="function"===typeof i;v||(i=String(i));var f=o.global;if(f){var _=o.unicode;o.lastIndex=0}var b=[];while(1){var S=d(o,h);if(null===S)break;if(b.push(S),!f)break;var x=String(S[0]);""===x&&(o.lastIndex=l(h,c(o.lastIndex),_))}for(var $="",w=0,P=0;P<b.length;P++){S=b[P];for(var I=String(S[0]),A=u(p(r(S.index),h.length),0),L=[],D=1;D<S.length;D++)L.push(m(S[D]));var N=S.groups;if(v){var O=[I].concat(L,A,h);void 0!==N&&O.push(N);var B=String(i.apply(void 0,O))}else B=k(I,h,A,L,N,i);A>=w&&($+=h.slice(w,A)+B,w=A+I.length)}return $+h.slice(w)}];function k(t,s,i,a,c,r){var o=i+t.length,l=a.length,d=f;return void 0!==c&&(c=n(c),d=v),e.call(r,d,(function(e,n){var r;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return s.slice(0,i);case"'":return s.slice(o);case"<":r=c[n.slice(1,-1)];break;default:var d=+n;if(0===d)return e;if(d>l){var u=h(d/10);return 0===u?e:u<=l?void 0===a[u-1]?n.charAt(1):a[u-1]+n.charAt(1):e}r=a[d-1]}return void 0===r?"":r}))}}))},"8aa5":function(t,e,s){"use strict";var i=s("6547").charAt;t.exports=function(t,e,s){return e+(s?i(t,e).length:1)}},c975:function(t,e,s){"use strict";var i=s("23e7"),a=s("4d64").indexOf,n=s("a640"),c=s("ae40"),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0,l=n("indexOf"),d=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:o||!l||!d},{indexOf:function(t){return o?r.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},d322:function(t,e,s){},d356:function(t,e,s){"use strict";var i=s("d322"),a=s.n(i);a.a}}]);
//# sourceMappingURL=chunk-ca764a82.428163d9.js.map